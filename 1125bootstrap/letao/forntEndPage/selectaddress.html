<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
  <title></title>
  <!--标准mui.css-->
  <link rel="stylesheet" href="./css/mui.min.css">
  <link href="./css/mui.picker.css" rel="stylesheet" />
  <link href="./css/mui.poppicker.css" rel="stylesheet" />
</head>

<body>

  <div class="mui-content">
    <div class="mui-content-padded">
      <button id='showCityPicker3' type='button'>三级联动</button>
      <div id='cityResult3' class="ui-alert"></div>
    </div>
  </div>
  <script src="./js/mui.min.js"></script>
  <script src="./js/mui.picker.js"></script>
  <script src="./js/mui.poppicker.js"></script>
  <script src="./js/city.data-3.js" type="text/javascript" charset="utf-8"></script>
  <script>
    (function($, doc) {
      $.init();
      $.ready(function() {
        /**
         * 获取对象属性的值
         * 主要用于过滤三级联动中，可能出现的最低级的数据不存在的情况，实际开发中需要注意这一点；
         * @param {Object} obj 对象
         * @param {String} param 属性名
         */
        var _getParam = function(obj, param) {
          return obj[param] || '';
        };
        //三级联示例
        var cityPicker3 = new $.PopPicker({
          layer: 3
        });
        cityPicker3.setData(cityData3);
        var showCityPickerButton = doc.getElementById('showCityPicker3');
        var cityResult3 = doc.getElementById('cityResult3');
        showCityPickerButton.addEventListener('tap', function(event) {
          cityPicker3.show(function(items) {
            cityResult3.innerText = "你选择的城市是:" + _getParam(items[0], 'text') + " " + _getParam(items[1], 'text') + " " + _getParam(items[2], 'text');
            //返回 false 可以阻止选择框的关闭
            //return false;
          });
        }, false);
      });
    })(mui, document);
  </script>
</body>

</html>